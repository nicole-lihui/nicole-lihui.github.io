# 操作系统的启动

## 操作系统的启动
### 启动顺序
1. DISK：存放OS、Bootloader（加载OS）
2. BIOS：基本I/O处理系统
3. 顺序
   1. BIOS
      1. BIOS最开始从固定地址开始执行（X86:0xf000:fff0---CS(段寄存器):IP（指令寄存器））
      2. BIOS一系列工作（包含POST【加电自检——寻找显卡和执行BIOS】）
      3. BIOS加载Bootloader（一般放在DISK的第一个扇区）（512byte）
         1. Bootloader在内存中的地址由BIOS决定（X86-0x7C00）
   2. Bootloader
      1.  Bootloader开始从BIOS接手CPU控制权
          1.  Bootloader功能有限（只是把OS【操作系统】的代码和数据从硬盘加载到内存中）
      2. 跳转到OS的起始地址
   3. OS
      1. OS从Bootloader接手CPU控制权限

### 4. OS与设备和程序的交互
1. OS Interface
   > 系统调用、异常、中断
2. 系统调用
   > 应用程序向OS发起服务请求（System Call）【来源应用系统】

3. 异常
   > 非法指令或者其他坏处理状态（如内存出错）【来源于不良应用程序】

4. 中断
   > 来自不同的硬件设备的计时器和网络中断 【来源外设】

5. 为什么应用软件不能直接访问外设？
   > 1. os是一个被操作系统信任的软件（信任OS-安全的角度）
   > 2. 只有OS可以执行特权指令
   > 3. OS提供简单一致的接口，让上层忽略底层device的复杂性和差异性，使得software更加通用、可移植

### 5. 系统调用、异常、中断特点和不同
1. 源头
   * 中断：外设
   * 异常：software意想不到的行为
   * 系统调用（System Call）：software请求OS提供服务

2. 处理时间
   * 中断：异步
   * 异常：同步
   * 系统调用：同步或异步（接手请求是同步，但是返回时间可以是同步也可以是异步）

3. 响应
   * 中断：持续，对用户softwa是透明的
   * 异步：杀死【严重】或者重新执行【不严重】（重新执行产生异常的指令意想不到到的程序可能正常执行）
   * 系统调用：等待和持续
